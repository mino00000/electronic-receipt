# NFC 기반 POS 시스템

## 프로젝트 설명
이 프로젝트는 **NFC 태그**를 사용하여 결제 및 영수증 발행 기능을 구현하는 **POS 시스템**입니다. **RC522 NFC 리더 모듈**을 통해 사용자의 이메일 주소를 NFC 카드에 쓰고, 결제 시 해당 이메일로 전자 영수증을 발송하는 기능을 제공합니다.

---

## 목차
1. [NFC 카드에 정보를 쓰는 방법](#1-nfc-카드에-정보를-쓰는-방법)
2. [RC522 모듈 연결 및 핀맵](#2-rc522-모듈-연결-및-핀맵)
3. [POS 시스템과 RC522 모듈의 연계](#3-pos-시스템과-rc522-모듈의-연계)
4. [COM 포트 설정 주의 사항](#4-com-포트-설정-주의-사항)
5. [구글 SMTP 설정 (Gmail 앱 비밀번호 사용)](#5-구글-smtp-설정-gmail-앱-비밀번호-사용)
6. [설치 및 실행 방법](#6-설치-및-실행-방법)
7. [주의 사항](#7-주의-사항)

---

## 1. NFC 카드에 정보를 쓰는 방법
NFC 카드에 정보를 쓰기 위해 **RC522 모듈**을 사용합니다. 사용자는 제공된 코드 파일을 다운로드하여 NFC 카드에 데이터를 작성할 수 있습니다.

- NFC 카드에 정보를 쓰는 코드는 **`rfc_write.ino`** 파일로 제공됩니다. 
- 해당 파일을 다운로드하여 **Arduino IDE**에서 실행한 후 NFC 카드에 데이터를 작성하세요.

---

## 2. RC522 모듈 연결 및 핀맵
**RC522 모듈**을 Arduino에 연결할 때, 각 핀의 연결이 정확해야 정상적으로 동작합니다.

| RC522 핀 | Arduino 핀  |
|----------|-------------|
| SDA      | D10         |
| SCK      | D13         |
| MOSI     | D11         |
| MISO     | D12         |
| GND      | GND         |
| RST      | D9          |
| 3.3V     | 3.3V        |

위 핀맵을 따라 **Arduino**에 NFC 리더 모듈을 연결하세요. 이 핀 연결은 NFC 리더와 Arduino 간의 통신을 위해 매우 중요합니다.

---

## 3. POS 시스템과 RC522 모듈의 연계
이 프로젝트의 핵심은 **POS 시스템**과 **RC522 NFC 리더 모듈**을 연계하는 것입니다. NFC 리더 모듈을 통해 이메일 주소를 읽고, 해당 정보를 POS 시스템에 전달하여 영수증을 발송합니다.

- NFC 카드에서 데이터를 읽는 코드는 **`rfc_read.ino`** 파일로 제공됩니다.
- POS 시스템 코드는 **`pos.py`** 파일로 제공되며, 이를 통해 결제 및 영수증 발행 기능을 구현할 수 있습니다.

---

## 4. COM 포트 설정 주의 사항
POS 시스템과 RC522 모듈 간의 시리얼 통신을 설정할 때 **COM 포트** 설정이 중요합니다. Arduino가 연결된 **COM 포트**를 올바르게 설정해야 NFC 데이터를 읽고 POS 시스템과 통신할 수 있습니다.

1. **Arduino IDE** 또는 **Device Manager**에서 Arduino가 연결된 포트를 확인하세요.
2. POS 시스템 코드를 실행하기 전에 **`pos.py`** 파일에서 해당 포트를 설정하세요:

```python
ser = serial.Serial('COM12', 9600)  # 아두이노와의 시리얼 통신 설정
```
## 5. 구글 SMTP 설정 (Gmail 앱 비밀번호 사용)
이 프로젝트는 **Gmail SMTP 서버**를 통해 이메일을 전송합니다. 이를 위해 **Google의 앱 비밀번호**를 사용해야 합니다.

### 앱 비밀번호 설정 방법:
1. **Google 계정**에 로그인한 후 **2단계 인증**을 활성화합니다.
2. **앱 비밀번호**를 생성하여, 이 프로젝트에서 사용할 비밀번호로 설정합니다.

### SMTP 서버 설정:
다음과 같이 **SMTP 서버**와 **포트**를 설정하여 이메일을 전송할 수 있습니다.

```python
smtp_server = 'smtp.gmail.com'
smtp_port = 587
sender_email = 'your_email@gmail.com'  # 발신자 이메일
sender_password = 'your_app_password'  # Google 앱 비밀번호
```

---

## 6. 설치 및 실행 방법
1. **`rfc_write.ino`** 파일을 다운로드한 후 **Arduino IDE**를 사용하여 **NFC 카드**에 이메일 주소를 기록하세요.
2. **`rfc_read.ino`** 파일을 다운로드하고, **Arduino IDE**를 사용해 **NFC 카드**를 읽어 이메일 주소를 추출하세요.
3. **`pos.py`** 파일을 실행하여 **POS 시스템**을 사용하세요. 결제 금액을 입력하고, 결제 후 **NFC 태그**를 통해 이메일을 읽은 후 전자 영수증을 전송합니다.

---

## 7. 주의 사항
1. **Arduino**와 **RC522 모듈** 간의 핀 연결이 정확한지 확인하세요. 올바르지 않으면 시스템이 정상적으로 작동하지 않을 수 있습니다.
2. **COM 포트**를 정확하게 설정해야 **NFC 데이터를 정상적으로 읽을 수 있습니다**. Arduino가 연결된 COM 포트를 정확하게 확인하고 설정하세요.
3. **Google 앱 비밀번호**를 사용하여 이메일을 전송할 때, 보안 경고를 방지하기 위해 **2단계 인증**과 **앱 비밀번호**를 설정하세요.

